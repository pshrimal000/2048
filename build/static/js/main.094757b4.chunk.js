(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,a){e.exports=a(14)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),l=a.n(r),s=a(3),o=a.n(s);var c=function(e){return l.a.createElement("div",{className:"scores"},l.a.createElement("div",{className:"score score--current"},e.score),l.a.createElement("div",{className:"score score--best"},e.best))};var i=function(e){return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header__row"},l.a.createElement("h1",{className:"header__title"},"2048"),l.a.createElement(c,{score:e.score,best:e.best})),l.a.createElement("div",{className:"header__row"},l.a.createElement("p",{className:"header__intro"},"Join the numbers and get to the",l.a.createElement("strong",null,"2048 tile!")),l.a.createElement("button",{className:"restart",onClick:e.resetGame},"New Game")))};var u=function(e){return l.a.createElement("div",{className:"cell cell--"+e.label},l.a.createElement("span",{className:"cell__label"},e.label))};var f=function(e){return l.a.createElement("div",{className:"row"},l.a.createElement(u,{label:e.row[0]}),l.a.createElement(u,{label:e.row[1]}),l.a.createElement(u,{label:e.row[2]}),l.a.createElement(u,{label:e.row[3]}))},m=function(e){for(var t=e.filter(Boolean).concat([null,null,null,null]).slice(0,4),a=0,n=e.length;a<n;a++)t[a]&&t[a+1]&&t[a]===t[a+1]&&(t[a]*=2,t[a+1]=null);return t.filter(Boolean).concat([null,null,null,null]).slice(0,4)},g=function(e,t){for(var a=0;a<4;a++)t(e[a])},d=function(e){for(var t=[],a=0;a<e.length;a++)for(var n=0;n<e.length;n++)null==e[a][n]&&t.push({row:a,col:n});return t},v={display:{self:function(e){g(e,function(e){return console.log(e)})},shiftLeft:function(e){g(e,function(e){return console.log(m(e))})},shiftRight:function(e){g(e,function(e){return console.log(m(e))})}},shiftLeft:function(e){var t=[];return g(e,function(e){t.push(m(e))}),t},shiftRight:function(e){var t=[];return g(e,function(e){t.push(function(e){for(var t=[],a=(e=e.filter(function(e){return null!=e})).length-1;a>0;a--)e[a]&&e[a-1]&&e[a]===e[a-1]&&(e[a]*=2,e[a-1]=null);return t=(t=[null,null,null,null].concat(e.filter(function(e){return null!=e}))).slice(t.length-4)}(e))}),t},rotateRight:function(e){return[[e[3][0],e[2][0],e[1][0],e[0][0]],[e[3][1],e[2][1],e[1][1],e[0][1]],[e[3][2],e[2][2],e[1][2],e[0][2]],[e[3][3],e[2][3],e[1][3],e[0][3]]]},rotateLeft:function(e){return[[e[0][3],e[1][3],e[2][3],e[3][3]],[e[0][2],e[1][2],e[2][2],e[3][2]],[e[0][1],e[1][1],e[2][1],e[3][1]],[e[0][0],e[1][0],e[2][0],e[3][0]]]},shiftUp:function(e){var t=[];return t=v.rotateLeft(e),t=v.shiftLeft(t),t=v.rotateRight(t)},shiftDown:function(e){var t=[];return t=v.rotateRight(e),t=v.shiftLeft(t),t=v.rotateLeft(t)},addRandomCell:function(e){return function(e){var t=d(e),a=t.length;if(!a)return e;var n=t[Math.floor(Math.random()*a)],r=Math.random()<.9?2:4;return e[n.row][n.col]=r,e}(e)},getAvailableCells:function(e){return d(e)}},h=v,E=function(e){for(var t={},a=0,n=e.length;a<n;a++)t[e[a]]?t[e[a]]++:t[e[a]]=1;return t},b=function(e,t){for(var a=e.flat().filter(Boolean),n=t.flat().filter(Boolean),r=E(a),l=E(n),s=Object.keys(l),o=0,c=0,i=s.length;c<i;c++){var u=r[s[c]]||0;if(l[s[c]]>u){var f=l[s[c]]-u;o+=parseInt(s[c],10)*f}}return o},w={addCell:function(e,t){if(JSON.stringify(e)===JSON.stringify(t.grid))return{score:0,best:t.best,grid:t.grid,transform:e};var a=t.score+b(t.grid,e);return a>t.best&&t.setBest(a),t.setScore(a),t.setGridState(h.addRandomCell(e)),{score:a,best:t.best,grid:t.grid,transform:e}},hasNoMovesLeft:function(e){var t=[];return t.push(JSON.stringify(h.shiftUp(e))===JSON.stringify(e)),t.push(JSON.stringify(h.shiftLeft(e))===JSON.stringify(e)),t.push(JSON.stringify(h.shiftDown(e))===JSON.stringify(e)),t.push(JSON.stringify(h.shiftRight(e))===JSON.stringify(e)),t.every(function(e){return!0===e})},has2048:function(e){return e.flat().some(function(e){return e>=2048})},calcScore:b};var y=function(e){return Object(r.useEffect)(function(){var t=function(t){if(t.preventDefault(),"running"===e.status||"continue"===e.status){var a={};switch(t.key){case"ArrowUp":a=w.addCell(h.shiftUp(e.grid),e);break;case"ArrowRight":a=w.addCell(h.shiftRight(e.grid),e);break;case"ArrowDown":a=w.addCell(h.shiftDown(e.grid),e);break;case"ArrowLeft":a=w.addCell(h.shiftLeft(e.grid),e);break;default:alert("Invalid key")}"continue"!==e.status&&w.has2048(a.transform)&&e.setStatus("won"),w.hasNoMovesLeft(a.transform)&&e.setStatus("over")}};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),l.a.createElement("div",{className:"grid"},l.a.createElement(f,{row:e.grid[0]}),l.a.createElement(f,{row:e.grid[1]}),l.a.createElement(f,{row:e.grid[2]}),l.a.createElement(f,{row:e.grid[3]}))};var N=function(e){var t=Object(r.useState)(function(){var e=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]];return e=h.addRandomCell(e),e=h.addRandomCell(e)}),a=Object(n.a)(t,2),s=a[0],o=a[1];return l.a.createElement("div",{className:"game"},l.a.createElement(y,{grid:s,setGridState:o,score:e.score,setScore:e.setScore,best:e.best,setBest:e.setBest,status:e.status,setStatus:e.setStatus}))};var p=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"over"===e.status?"game-overlay game-overlay--over active":"game-overlay game-overlay--over"},l.a.createElement("h1",{className:"game-overlay__message"},"Game Over!"),l.a.createElement("button",{className:"game-overlay__try-again",onClick:e.tryAgain},"Try Again")),l.a.createElement("div",{className:"won"===e.status?"game-overlay game-overlay--won active":"game-overlay game-overlay--won"},l.a.createElement("h1",{className:"game-overlay__message"},"You win!"),l.a.createElement("button",{className:"game-overlay__keep-going",onClick:function(){e.setStatus("continue")}},"Keep going"),l.a.createElement("button",{className:"game-overlay__try-again",onClick:e.tryAgain},"Try Again")))};var S=function(e){return l.a.createElement("div",{className:"footer"},l.a.createElement("p",{className:"footer__how-to-play"},l.a.createElement("span",{className:"footer__emphasized-text"},"HOW TO PLAY:"),"Use your",l.a.createElement("span",{className:"footer__emphasized-text"},"arrow keys"),"to move the tiles. When two tiles with the same number touch, they",l.a.createElement("span",{className:"footer__emphasized-text"},"merge into one!")),l.a.createElement("p",{className:"footer__attribution"},"Made with \u2665 by",l.a.createElement("a",{className:"footer__link",href:"#"},"Ashutosh Shrimal")))};a(10),a(11),a(12),a(13);function _(){var e=Object(r.useState)(0),t=Object(n.a)(e,2),a=t[0],s=t[1],o=Object(r.useState)(localStorage.getItem("Best")||0),c=Object(n.a)(o,2),u=c[0],f=c[1],m=Object(r.useState)(0),g=Object(n.a)(m,2),d=g[0],v=g[1],h=Object(r.useState)("running"),E=Object(n.a)(h,2),b=E[0],w=E[1],y=function(){s(0),v(d+1),w("running")};return l.a.createElement("div",{className:"App"},l.a.createElement(i,{score:a,best:u,resetGame:y}),l.a.createElement(p,{tryAgain:y,status:b,setStatus:w}),l.a.createElement(N,{key:d,score:a,setScore:s,best:u,setBest:function(e){localStorage.setItem("Best",e),f(e)},status:b,setStatus:w}),l.a.createElement(S,null))}var O=document.getElementById("root");o.a.render(l.a.createElement(_,null),O)}],[[4,1,2]]]);
//# sourceMappingURL=main.094757b4.chunk.js.map